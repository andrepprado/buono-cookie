<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buono Cookies</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="img/favicon.png" type="image/png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="preload" href="img/logo_header.png" as="image">
    <link rel="preload" href="img/background/hero1.png" as="image">
    <link rel="preload" href="img/background/hero2.png" as="image">
    <link rel="preload" href="img/background/hero3.png" as="image">
    <link rel="preload" href="img/bg-pattern.png" as="image">
    <link rel="preload" href="img/mascote-chef.png" as="image">
    <link rel="preload" href="img/tradicional.jpg" as="image">
    <link rel="preload" href="img/nutella.jpg" as="image">
    <link rel="preload" href="img/favicon.png" as="image">

</head>

<body>

    <header class="header">
        <div class="logo">
            <a href="index.html">
                <img src="img/logo_header.png" alt="Buono Cookies Logo" />
            </a>
        </div>

        <div class="cart-icon">
            <a href="checkout.html" aria-label="Ver carrinho">
                <i class="bi bi-cart3"></i>
                <span id="cart-count">0</span>
            </a>
        </div>

        <button class="menu-toggle" id="menu-toggle" aria-label="Abrir menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>

        <nav class="mobile-menu" id="mobile-menu" aria-hidden="true">
            <ul>
                <li><a href="index.html">P√°gina Inicial</a></li>
                <li><a href="#about">Sobre N√≥s</a></li>
                <li><a href="#order">Card√°pio</a></li>
            </ul>

            <div class="mobile-menu-socials">
                <a href="https://www.instagram.com/buonocookie/" target="_blank" aria-label="Instagram">
                    <i class="bi bi-instagram"></i>
                </a>
                <a href="https://wa.me/5512991030948" target="_blank" aria-label="WhatsApp">
                    <i class="bi bi-whatsapp"></i>
                </a>
            </div>
        </nav>
    </header>
    <section class="hero">
        <div class="hero-background"></div>
        <div class="hero-content">
            <h1>Sua felicidade acaba de sair do forno</h1>
            <p>Cookies artesanais feitos com amor e ingredientes de verdade.</p>
            <a href="#order" class="cta">
                Veja Nosso Card√°pio
                <img src="img/favicon.png" alt="Cookie" class="cookie-spin">
            </a>
        </div>
    </section>

    <section class="section section-1" id="about">

        <div class="content">
            <div class="content-box">
                <img src="img/favicon.png" alt="√çcone Buono Cookies" class="content-box-icon">
                <h2>Nossa Hist√≥ria</h2>
                <p>A Buono Cookies nasceu em 2025, fruto da paix√£o de uma <strong>estudante de nutri√ß√£o</strong> que
                    acredita no
                    poder de um doce feito com alma. Mais do que uma receita, buscamos o equil√≠brio perfeito entre o
                    afeto
                    da
                    confeitaria artesanal e o conhecimento de quem entende de verdade o valor de cada ingrediente.</p>

                <a href="https://www.instagram.com/buonocookie/" class="instagram-link" target="_blank">
                    <i class="bi bi-instagram"></i>
                    Siga-nos no Instagram
                </a>

            </div>
        </div>

        <div class="image-side">
            <img src="img/mascote-chef.png" alt="Mascote Buono Cookies" class="mascote-image">
        </div>

    </section>


    <section class="section section-3" id="order">
        <div class="content center">
            <h2>Nosso Card√°pio</h2>
            <p>Escolha seu cookie favorito e adicione um toque de felicidade ao seu dia üç™</p>

            <div class="menu-grid">

                <div class="menu-card">
                    <img src="img/tradicional.jpg" alt="Cookie Tradicional" class="menu-photo animate">
                    <div class="menu-info">
                        <h3>Cookie Tradicional</h3>
                        <p class="menu-desc">Massa amanteigada com peda√ßos de chocolate derretendo em cada mordida.</p>
                        <div class="menu-footer">
                            <span class="price">R$ 10,00</span>

                            <div class="quantity">
                                <button class="minus">‚àí</button>
                                <span class="qty">1</span>
                                <button class="plus">+</button>
                            </div>

                            <button class="add-btn"><i class="bi bi-cart-plus"></i> Adicionar</button>
                        </div>
                    </div>
                </div>

                <div class="menu-card">
                    <img src="img/nutella.jpg" alt="Cookie de Nutella" class="menu-photo animate">
                    <div class="menu-info">
                        <h3>Cookie de Nutella</h3>
                        <p class="menu-desc">Nosso best-seller, recheado com Nutella cremosa e coberto com peda√ßos de
                            chocolate.</p>
                        <div class="menu-footer">
                            <span class="price">R$ 12,50</span>

                            <div class="quantity">
                                <button class="minus">‚àí</button>
                                <span class="qty">1</span>
                                <button class="plus">+</button>
                            </div>

                            <button class="add-btn"><i class="bi bi-cart-plus"></i> Adicionar</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer>
        <div class="footer-socials">
            <a href="https://www.instagram.com/buonocookie/" target="_blank" aria-label="Instagram">
                <i class="bi bi-instagram"></i>
            </a>
            <a href="https://wa.me/5512991030948" target="_blank" aria-label="WhatsApp">
                <i class="bi bi-whatsapp"></i>
            </a>
        </div>

        <p>¬© 2025 Buono Cookies ‚Äî Todos os direitos reservados.</p>
    </footer>

    <script src="background.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const toggle = document.getElementById("menu-toggle");
            const menu = document.getElementById("mobile-menu");
            const body = document.body;

            function openMenu() {
                menu.classList.add("active");
                toggle.classList.add("open");
                body.classList.add("menu-open");
                menu.setAttribute("aria-hidden", "false");
            }

            function closeMenu() {
                menu.classList.remove("active");
                toggle.classList.remove("open");
                body.classList.remove("menu-open");
                menu.setAttribute("aria-hidden", "true");
            }

            toggle.addEventListener("click", () => {
                menu.classList.contains("active") ? closeMenu() : openMenu();
            });

            document.querySelectorAll(".mobile-menu a").forEach(link => {
                link.addEventListener("click", e => {
                    const href = link.getAttribute("href");
                    e.preventDefault();
                    closeMenu();

                    setTimeout(() => {
                        // üëá L√ìGICA ATUALIZADA PARA LIDAR COM #ABOUT E #ORDER üëá
                        if (href === "index.html") {
                            window.location.href = href;
                        } else if (href.startsWith("#")) {
                            document.querySelector(href)?.scrollIntoView({ behavior: "smooth" });
                        } else {
                            window.location.href = href;
                        }
                    }, 300);
                });
            });
        });
    </script>

    <script>
        // --- contador no header ---
        const cartCountEl = document.getElementById("cart-count");
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem("buonoCart")) || [];
            const total = cart.reduce((sum, it) => sum + (it.qty || 1), 0);
            if (cartCountEl) cartCountEl.textContent = total;
        }

        document.addEventListener("DOMContentLoaded", () => {
            updateCartCount();

            // para cada card do card√°pio
            document.querySelectorAll(".menu-card").forEach(card => {
                const addBtn = card.querySelector(".add-btn");
                const priceEl = card.querySelector(".price");
                const nameEl = card.querySelector("h3");
                const imgEl = card.querySelector("img");

                const qtyBox = card.querySelector(".quantity");
                const minus = qtyBox?.querySelector(".minus");
                const plus = qtyBox?.querySelector(".plus");
                const qtyEl = qtyBox?.querySelector(".qty");

                if (minus && qtyEl && plus) {
                    minus.addEventListener("click", () => {
                        const v = Math.max(1, (parseInt(qtyEl.textContent) || 1) - 1);
                        qtyEl.textContent = v;
                    });
                    plus.addEventListener("click", () => {
                        const v = Math.min(30, (parseInt(qtyEl.textContent) || 1) + 1);
                        qtyEl.textContent = v;
                    });
                }

                addBtn?.addEventListener("click", () => {
                    // Evita clique duplo
                    if (addBtn.disabled) return;

                    const name = nameEl?.textContent?.trim() || "Item";
                    const price = parseFloat(priceEl?.textContent.replace("R$", "").replace(".", "").replace(",", ".") || "0");
                    const image = imgEl?.getAttribute("src") || "";
                    const qty = qtyEl ? Math.min(30, Math.max(1, parseInt(qtyEl.textContent) || 1)) : 1;

                    let cart = JSON.parse(localStorage.getItem("buonoCart")) || [];
                    const i = cart.findIndex(it => it.name === name);

                    if (i > -1) {
                        cart[i].qty = Math.min(30, (cart[i].qty || 1) + qty);
                    } else {
                        cart.push({ name, price, image, qty });
                    }

                    localStorage.setItem("buonoCart", JSON.stringify(cart));
                    updateCartCount();

                    // --- CORRE√á√ÉO: Feedback visual no bot√£o ---
                    const originalText = addBtn.innerHTML;
                    addBtn.innerHTML = `<i class="bi bi-check-lg"></i> Adicionado!`;
                    addBtn.style.background = '#008a00'; // Um verde sucesso
                    addBtn.disabled = true; // Desabilita o bot√£o

                    // Volta ao normal
                    setTimeout(() => {
                        addBtn.innerHTML = originalText;
                        addBtn.style.background = ''; // Volta √† cor original (do CSS)
                        addBtn.disabled = false; // Reabilita o bot√£o
                    }, 1500); // 1.5 segundos
                });
            });
        });
    </script>


</body>

</html>